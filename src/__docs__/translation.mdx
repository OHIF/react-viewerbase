---
name: Translation
route: /translation
---

# Translation

**React Viewerbase** supports internationalization using [i18next](https://www.i18next.com/) through the npm package
[@ohif/i18n](https://www.npmjs.com/package/@ohif/i18n), where is the main instance of i18n containing several languages and tools.

## How to translate components

**React-viewerbase** already implements the [I18nextProvider](https://react.i18next.com/latest/i18nextprovider) in the whole application, you don't need to care about it, but more information about this implementation can be found
[here](#i18next-provider).

All you need is to use the [withTranslation HOC](https://react.i18next.com/latest/withtranslation-hoc) or the [useTranslation Hook](https://react.i18next.com/latest/usetranslation-hook) to
get the `t` prop inside the component.

e.g.:

```js
import React from 'react';
import { withTranslation } from 'react-i18next';

function MyComponent({ t }) {
  return <p>{t('my translated text')}</p>;
}

export default withTranslation('MyNameSpace')(MyComponent);
```

---

## Namespaces

Namespaces are used to organize translations in smaller portions, combined semantically or by use, each `.json` file inside `@ohif/i18n` npm package
becomes a new namespace automatically, which can be override later.

For further information about namespaces available and how they work, please visit
[OHIF Namespaces docs](https://docs.ohif.org/essentials/translating.html#namespaces).

#### How to get right the Name Space of a component?
Check the component's documentation in this site, the NameSpace information should be there, or, if not, in the withTranslation definition of the component.

E.g.

```
export default withTranslation('TheNamespaceYouAreLookingFor')(TheComponentIWantToUse);
```

---

## I18next Provider

**React Viewerbase** pass down the `t` function trough the [docz wrappers](https://www.docz.site/docs/project-configuration#wrapper) and trough overlay components via
[react-overlays](https://github.com/OHIF/react-viewerbase/blob/master/src/components/overlayTrigger/Overlay.js).

---

## Extending languages dynamically

[@ohif/i18n](https://www.npmjs.com/package/@ohif/i18n) provides a method to extend, override and add language resources dynamically, called `addLocales`, using a file folder structure.

Using the a folder structure as following, load the node context of the folder and send to `addLocales`.

```bash
 |-- ...
 |-- src
    |-- locales
        |-- en
            |-- Buttons.json
        |-- es
            |-- Buttons.json
  ...
```

```js
import { addLocales } from '@ohif/i18n';

const localesPath = './locales';
const context = require.context(localesPath, true, /\.json$/);
addLocales(context);
```

---

## Debugging translations

[@ohif/i18n](https://www.npmjs.com/package/@ohif/i18n) uses two environment
variables responsible for debugging the translations: `REACT_APP_I18N_DEBUG` and
`REACT_APP_LANG`.

For debugging, you can run the project as follows:

```bash
yarn && REACT_APP_I18N_DEBUG=true REACT_APP_LANG=es yarn run dev
```
